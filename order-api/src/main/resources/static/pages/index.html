<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>粤K万丰石材</title>
    <link rel="stylesheet" media="all" href="layui/css/layui.css">
</head>
<body>
<script src="layui/layui.all.js"></script>
<script src="layui/layui.js"></script>
<!--

-->
<div class="layui-tab layui-tab-card">
    <ul class="layui-tab-title">
        <li class="layui-this">数据查询</li>
        <li>报表统计</li>

    </ul>
    <div class="layui-tab-content" style="height: 100px;">
        <div class="layui-tab-item layui-show">

            <table id="demo" lay-filter="test"></table>

        </div>
        <div class="layui-tab-item">2</div>

    </div>
</div>




<script>
    layui.use(['table','laypage','laydate'], function(){
        var table = layui.table;

        table.render({
         //其它参数在此省略
           // skin: 'row' //行边框风格
            elem: '#demo'
            ,url:'/projects'
            //,cellMinWidth: 80 //全局定义常规单元格的最小宽度，layui 2.2.1 新增
            ,cols: [[
                {field:'id', width: 100,  title: 'ID', sort: false},
                {field:'name', width: 200, title: '工程名称', sort: false},
                {field:'serialNo',  title: '单号'/*, templet:function(d){ return d==''?'未开单':d}*/},
                {field:'projectDate',  title: '工程日期'},
                {field:'cost',  title: '工程总价', align:'right'},
                {
                    field: 'costPaid', title: '收款情况', align:'right', templet: function (project) {
                        if (project.cost == project.costPaid) {
                            return "<span style='color: green'>OK</span>"
                        } else {
                            return project.costPaid == null ? '未收款' : project.costPaid;
                        }
                    }
                }
               ,{field:'clientName', title: '客户', sort: false}
               ,{field:'clientPhone',  title: '电话', sort: false}
               ,{field:'clientAddress', title: '地址', sort: false}
            ]],
            request: {
                pageName: 'page' //页码的参数名称，默认：page
                ,limitName: 'pageSize' //每页数据量的参数名，默认：limit
            },
            response: {
                statusName: 'code' //规定数据状态的字段名称，默认：code
                ,statusCode: 200 //规定成功的状态码，默认：0
                ,msgName: 'message' //规定状态信息的字段名称，默认：msg
                ,countName: 'data.total' //规定数据总数的字段名称，默认：count
                ,dataName: 'data.records' //规定数据列表的字段名称，默认：data
            },
            page: true,
            limit : 10,
            limits: [10, 25, 50, 100]
        });
    });
</script>


</body>
</html>